# 权限控制

#### 表设计

机构表（机构编码、机构级别、父机构编码、排序）

用户表（用户编码、机构编码、角色编码）

角色表（角色编码）

权限（菜单）表（权限编码）

角色权限中间表（角色编码、权限编码）



#### 后台鉴权

1. 使用自定义注解 @Permission（权限编码枚举值）
2. AOP
   1. @Aspectj 
   2. @Pointcut("@annotation(xxx.xxx.Permission)") 切入注解标识的方法、类
   3. 验证用户是否存在
   4. 获取该用户角色的权限列表
   5. 遍历权限列表判断注解注入的权限编码枚举值是否存在
   6. 存在为有权限



#### 前台鉴权

1. 后台返回用户基本信息
2. 返回用户角色列表，每个角色对应一套菜单，前端按菜单渲染页面，不同用户角色菜单列表不同

